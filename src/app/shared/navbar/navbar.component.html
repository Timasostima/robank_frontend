<nav *ngIf="isLoggedIn !== null; else loading" class="navbar" [class.mobile]="isMobile">
  <div class="navbar-container">
    <!-- Brand Section -->
    <div class="navbar-brand" (click)="toLandingPage()">
      <img src="Robank_Logo_Small.png" alt="Robank Logo" class="logo"/>
      <h1 class="app-title">Robank</h1>
    </div>

    <!-- Mobile Menu Toggle -->
    <button *ngIf="isMobile && isLoggedIn" class="menu-toggle" (click)="toggleMenu()">
      <span class="material-symbols-outlined">menu</span>
    </button>

    <!-- Authentication Buttons -->
    <div *ngIf="!isLoggedIn" class="auth-buttons">
      <a routerLink="/login" class="login-btn">Log In</a>
      <a routerLink="/register" class="register-btn">Register</a>
    </div>

    <!-- Navigation Links -->
    <div *ngIf="isLoggedIn" class="nav-links" [class.open]="menuOpen">
      <a routerLink="/dashboard" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Dashboard</a>
      <a routerLink="/bills" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Bills</a>
      <a routerLink="/categories" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Categories</a>
      <a routerLink="/goals" routerLinkActive="active" class="nav-link" (click)="closeMenu()">Goals</a>

      <!-- Mobile Profile Actions -->
      <div *ngIf="isMobile" class="mobile-profile">
        <a routerLink="/settings" class="profile-link">
          <span class="material-symbols-outlined">person</span> Settings
        </a>
        <button (click)="logout()" class="logout-btn">
          <span class="material-symbols-outlined">logout</span> Logout
        </button>
      </div>
    </div>

    <!-- Desktop Profile Actions -->
    <div *ngIf="isLoggedIn && !isMobile" class="profile-actions">
      <button class="profile-button" (click)="toggleProfileMenu()">
        <span class="material-symbols-outlined">person</span>
      </button>
      <div *ngIf="profileMenuOpen" class="profile-dropdown">
        <a routerLink="/settings" class="profile-dropdown-item">Settings</a>
        <button (click)="logout()" class="profile-dropdown-item logout">Logout</button>
      </div>
    </div>
  </div>
</nav>

<ng-template #loading>
  <nav class="navbar">
    <div class="navbar-container">
      <div class="navbar-brand">
        <div class="skeleton-logo"></div>
        <div class="skeleton-title"></div>
      </div>
    </div>
  </nav>
</ng-template>
